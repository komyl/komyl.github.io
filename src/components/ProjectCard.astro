---
import TechnologyIcon from './TechnologyIcon.astro';

export interface Props {
    name: string;
    status: 'active' | 'suspended' | 'finished';
    technologies?: string[];
    duration?: string;
    url?: string;
}

const { name, status, technologies, duration, url } = Astro.props;

const statusClasses = {
    active: 'bg-green-500',
    suspended: 'bg-yellow-500',
    finished: 'bg-gray-500',
};
---
<div class="project-card">
    <div class="card-header">
        <h3 class="project-name">{name}</h3>
        <div class="status-indicator-wrapper">
            <span class:list={['status-dot', statusClasses[status]]}></span>
            <span class="status-text">{status}</span>
        </div>
    </div>
    <div class="card-body">
        </div>
    <div class="card-footer">
        <div class="technologies">
            {technologies && technologies.map(tech => (
                <TechnologyIcon name={tech} />
            ))}
        </div>
        {duration && (
            <div class="duration">
                <span>{duration}</span>
            </div>
        )}
    </div>
</div>

<style>
/* Styles remain largely the same, but we update the technologies section */
.project-card {
    background-color: var(--glass-background);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius-large);
    padding: calc(var(--spacing-unit) * 3);
    display: flex;
    flex-direction: column;
    height: 100%;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.project-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}
.card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--spacing-unit);
}
.project-name {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0;
    color: var(--color-text);
}
.status-indicator-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    color: var(--color-text-muted);
    background: var(--glass-border);
    padding: 4px 8px;
    border-radius: 99px;
}
.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}
.bg-green-500 { background-color: #22c55e; }
.bg-yellow-500 { background-color: #eab308; }
.bg-gray-500 { background-color: #6b7280; }
.card-body {
    flex-grow: 1;
}
.card-footer {
    border-top: 1px solid var(--glass-border);
    padding-top: calc(var(--spacing-unit) * 2);
    margin-top: calc(var(--spacing-unit) * 2);
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
}
.technologies {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}
.duration {
    font-size: 0.8rem;
    color: var(--color-text-muted);
    white-space: nowrap;
}
</style>